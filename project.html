<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title x-text="project ? project.name + ' â€“ BareCoding' : 'Loading...' "></title>

  <!-- Tailwind CSS (install via CLI/PostCSS for production) -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = { theme: { extend: { colors: { bg:'#2A2A2A', surface:'#3A3A3A', accent:'#22C55E', highlight:'#16A34A' } } } };
  </script>

  <!-- AOS for scroll animations -->
  <link href="https://unpkg.com/aos@2.3.4/dist/aos.css" rel="stylesheet">
  <script src="https://unpkg.com/aos@2.3.4/dist/aos.js"></script>

  <!-- Alpine.js for interactivity -->
  <script src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
  <script>
    document.addEventListener('alpine:init', () => {
      Alpine.data('projectDetail', () => ({
        navOpen: false,
        activeTab: 'readme',
        projectId: null,
        project: null,
        loading: true,
        error: null,
        async fetchProject() {
          try {
            const repoMap = {
              '1': 'BigPattty/bigpattty.github.io.git',
              '2': 'your-github-username/project-two',
              '3': 'your-github-username/project-three'
            };
            this.projectId = new URLSearchParams(window.location.search).get('id');
            const fullName = repoMap[this.projectId];
            if (!fullName) throw new Error('Invalid project ID');
            const res = await fetch(`https://api.github.com/repos/${fullName}`);
            if (!res.ok) throw new Error('Repo not found');
            const data = await res.json();
            const readmeRes = await fetch(
              `https://api.github.com/repos/${fullName}/readme`,
              { headers: { Accept: 'application/vnd.github.v3.raw' }}
            );
            const readmeText = await readmeRes.text();
            this.project = {
              name: data.name,
              desc: data.description,
              img: data.owner.avatar_url,
              repo: data.html_url,
              demo: data.homepage || '#',
              readme: readmeText,
              code: `// Example code snippet for ${data.name}`
            };
          } catch (e) {
            this.error = e.message;
          } finally {
            this.loading = false;
          }
        },
        init() {
          this.fetchProject();
        }
      }));
    });
  </script>
  <script>document.addEventListener('DOMContentLoaded',()=>AOS.init({duration:700}));</script>
  <style>*,html{-webkit-tap-highlight-color:transparent}</style>
</head>
<body x-data="projectDetail()" x-init="init()" class="bg-bg text-gray-100 antialiased">

  <!-- Navbar -->
  <nav class="fixed w-full z-50 bg-bg bg-opacity-95 backdrop-blur-md">
    <div class="max-w-6xl mx-auto flex items-center justify-between h-20 px-4 md:px-8">
      <a href="index.html" class="text-3xl font-bold">BareCoding</a>
      <div class="hidden md:flex items-center space-x-8 text-lg">
        <a href="index.html" class="hover:text-accent">Home</a>
        <a href="projects.html" class="hover:text-accent">Projects</a>
        <a href="about.html" class="hover:text-accent">About</a>
        <a href="login.html" class="px-4 py-2 bg-accent text-bg rounded-full hover:bg-opacity-90 transition">Login</a>
      </div>
      <button @click="navOpen=!navOpen" class="md:hidden p-2 focus:outline-none">
        <svg x-show="!navOpen" xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-gray-100" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 18h16"/></svg>
        <svg x-show="navOpen" xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-gray-100" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
      </button>
    </div>
    <div x-show="navOpen" x-transition class="md:hidden bg-bg bg-opacity-95 backdrop-blur-md px-4">
      <nav class="flex flex-col items-center py-6 space-y-4 text-xl">
        <a href="index.html" @click="navOpen=false" class="hover:text-accent">Home</a>
        <a href="projects.html" @click="navOpen=false" class="hover:text-accent">Projects</a>
        <a href="about.html" @click="navOpen=false" class="hover:text-accent">About</a>
        <a href="login.html" @click="navOpen=false" class="px-4 py-2 bg-accent text-bg rounded-full hover:bg-opacity-90 transition">Login</a>
      </nav>
    </div>
  </nav>

  <!-- Loading/Error -->
  <section class="pt-32 text-center">
    <template x-if="loading">
      <p class="text-xl text-gray-400">Loading project details...</p>
    </template>
    <template x-if="error">
      <p class="text-xl text-red-500" x-text="error"></p>
    </template>
  </section>

  <!-- Detail Hero -->
  <section x-show="project" class="pt-32 pb-16 bg-gradient-to-br from-surface to-bg text-center scroll-mt-20">
    <img :src="project.img" :alt="project.name" class="mx-auto w-32 h-32 rounded-full mb-4 shadow-lg" data-aos="zoom-in">
    <h1 class="text-4xl md:text-5xl font-extrabold mb-2" x-text="project.name" data-aos="fade-down"></h1>
    <p class="text-lg text-gray-300 mb-6" x-text="project.desc" data-aos="fade-up"></p>
    <div class="flex justify-center gap-4" data-aos="fade-up" data-aos-delay="200">
      <a :href="project.repo" target="_blank" class="px-6 py-3 bg-accent text-bg rounded-full font-semibold hover:bg-opacity-90 transition">GitHub Repo</a>
      <a :href="project.demo" target="_blank" class="px-6 py-3 border-2 border-accent text-accent rounded-full font-semibold hover:bg-accent hover:text-bg transition">Live Demo</a>
    </div>
  </section>

  <!-- Tabs -->
  <main class="py-16 px-4 md:px-16 max-w-4xl mx-auto">
    <div class="flex justify-center mb-8">
      <button @click="activeTab='readme'" :class="activeTab==='readme'?'border-b-2 border-accent text-accent':'text-gray-400'" class="px-4 py-2">README</button>
      <button @click="activeTab='code'" :class="activeTab==='code'?'border-b-2 border-accent text-accent':'text-gray-400'" class="px-4 py-2">Code Snippet</button>
    </div>
    <div x-show="activeTab==='readme'" x-transition>
      <div class="prose prose-invert max-w-none whitespace-pre-wrap" x-text="project.readme" data-aos="fade-up"></div>
    </div>
    <div x-show="activeTab==='code'" x-transition>
      <pre class="bg-surface text-sm p-4 rounded-lg overflow-auto" data-aos="fade-up" x-text="project.code"></pre>
    </div>
  </main>

  <!-- Footer -->
  <footer class="py-8 text-center text-gray-400 bg-bg">
    <div class="flex justify-center space-x-4 mb-4">
      <a href="https://discord.gg/yourserver" class="hover:text-accent">Discord</a>
      <a href="https://instagram.com/yourusername" class="hover:text-accent">Instagram</a>
      <a href="https://facebook.com/yourusername" class="hover:text-accent">Facebook</a>
    </div>
    <p>&copy; 2025 BareCoding. All rights reserved.</p>
  </footer>
</body>
</html>